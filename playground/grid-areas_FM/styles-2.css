/* solution based on 'grid-areas' */

.container {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	grid-template-rows: repeat(4, auto);
	grid-template-areas:
		'header header header'
		'section section sidebar'
		'widget-1 widget-2 sidebar'
		'footer footer footer';
	gap: 20px;
}

.header {
	grid-area: header;
}

.section {
	grid-area: section;
}

.sidebar {
	grid-area: sidebar;
}

.widget-1 {
	grid-area: widget-1;
}

.widget-2 {
	grid-area: widget-2;
}

.footer {
	grid-area: footer;
}

@media screen and (max-width: 1024px) {
	.container {
		grid-template-areas:
			'header header header'
			'section section section'
			'sidebar sidebar sidebar'
			'widget-1 widget-1 widget-2'
			'footer footer footer';
	}
}